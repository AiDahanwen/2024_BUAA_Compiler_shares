# 编译课程总结感想

22373321-张瀚文

编译结束了。虽然到最后我的Mem2Reg还是胎死腹中，理论考试更是做的惨不忍睹……

## Chapter1——收获

毫无疑问，这学期编译带给我的收获是巨大的。

+ 编译原理的深入理解

  在学习编译原理之前，只是在平常写代码的时候经常使用编译，在os课上了解过编译的概念。而深入学习之后才发现编译的知识如此众多庞杂。文法知识、词法分析、语法分析、中间代码生成、代码优化、目标代码生成；更不要说步骤繁杂的SLR分析……震惊！某985计算机学院学生学完编译后竟然自动进化成小型人肉编译器！

+ 项目经验

  这是第一次从头到尾写这么大一个项目，应该比上学期oo迭代的码量更高。到最后完成也不禁感慨，眼前这个能顺利工作的编译器竟然出自我之手。在编译器的开发中，我体会到每一块和每一块之间的衔接至关重要，还有就是如何将理论转化为真正可运行的代码，这点在代码优化部分尤为突出。以及上学期oo就领悟到的架构的魅力——如果不是因为参考了一个好的架构，恐怕这学期编译实验会完成的更加困难。

+ debug能力

  此点我是最有发言权的，自从开始做代码生成，debug的难度就呈指数级飙增。llvm部分的bug还能靠瞪眼法（也就是将源代码和生成的llvm代码对比找bug）解决，但是写到优化部分后，寄存器分配的凌乱，动辄2000多行的代码让人望而却步。不过好在有助教的帮助，他教会了我如何定位出错位置，精简testfile，从而减小debug难度。还是很经典的一句话：“虽然debug的过程是痛苦的，但是ac后的幸福、快乐与成就感是任何娱乐都无法比拟的。”

+ 抗压抗挫折能力

  这点我也很有发言权！debug的过程就是锻炼抗压抗挫折能力的（还有如此紧凑的ddl）。当面对报错的时候，可以吐槽但不能灰心丧气，而是要对自己充满信心，相信bug总能解决，相信问题总是能找到的，相信只要慢慢来，只要一直在思考就是能解决的。这个心态也帮助我度过不少难关ww。

## Chapter2——反思

通过课程暴露出我的问题也有很多。

+ 时间管理

  这是最大的问题！前面词法分析到语义分析较为简单的时候，我安排的过于松懈，忘记提前写数据库大作业和代码生成，导致中期本该写llvm的时候我在准备另外课程的期中期末考试和数学竞赛，而等到该优化的时候又跑去写数据库。后果就是优化在截止的前一天才勉强写完，而且只写了一个寄存器分配，因为mem2reg没时间写了（暴风哭泣），且晚上23:59截止，18:29我还在赶文档……

+ 架构设计

  前面提到过，我是参考了学长的架构才能完成的较为顺利，虽然代码部分基本是独立完成，但是架构设计的思想感觉还是没有得到特别好的锻炼。（主要是畏惧重构吧。。ddl太紧了，只能想着朝一个比较正确的方向前进）

## Chapter3——特别鸣谢

在总结感想中特别鸣谢以下助教、同学和老师：

+ 在历次实验debug中全力帮助我的d助教
+ 在理论中给我释疑解惑的l助教

+ 一起吃麦麦的wyt
+ 参考了其架构的神人hyggge
+ 敬业（总提问）的g老师

没有他们就没有现在还能平静写感想的我（鞠躬）。